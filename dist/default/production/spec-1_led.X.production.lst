

Microchip MPLAB XC8 Assembler V3.00 build 20241204225717 
                                                                                               Sun Mar  2 17:20:34 2025

Microchip MPLAB XC8 C Compiler v3.00 (Free license) build 20241204225717 Og1 
     1                           	processor	12F675
     2                           	pagewidth 120
     3                           	opt	flic
     4                           	psect	strings,global,class=STRING,space=0,delta=2,noexec
     5                           	psect	cinit,global,class=CODE,space=0,merge=1,delta=2
     6                           	psect	cstackCOMMON,global,class=COMMON,space=1,delta=1,noexec
     7                           	psect	cstackBANK0,global,class=BANK0,space=1,delta=1,noexec
     8                           	psect	maintext,global,class=CODE,space=0,split=1,delta=2
     9                           	psect	text1,local,class=CODE,space=0,merge=1,inline,delta=2
    10                           	psect	text2,local,class=CODE,space=0,merge=1,delta=2
    11                           	psect	text3,local,class=CODE,space=0,merge=1,inline,delta=2
    12                           	psect	config,global,abs,ovrld,class=CONFIG,space=4,delta=2,noexec
    13                           	dabs	1,0x5E,2
    14     0000                     
    15                           ; Generated 17/08/2023 GMT
    16                           ; 
    17                           ; Copyright Â© 2023, Microchip Technology Inc. and its subsidiaries ("Microchip")
    18                           ; All rights reserved.
    19                           ; 
    20                           ; This software is developed by Microchip Technology Inc. and its subsidiaries ("Microch
      +                          ip").
    21                           ; 
    22                           ; Redistribution and use in source and binary forms, with or without modification, are
    23                           ; permitted provided that the following conditions are met:
    24                           ; 
    25                           ;     1. Redistributions of source code must retain the above copyright notice, this lis
      +                          t of
    26                           ;        conditions and the following disclaimer.
    27                           ; 
    28                           ;     2. Redistributions in binary form must reproduce the above copyright notice, this 
      +                          list
    29                           ;        of conditions and the following disclaimer in the documentation and/or other
    30                           ;        materials provided with the distribution. Publication is not required when
    31                           ;        this file is used in an embedded application.
    32                           ; 
    33                           ;     3. Microchip's name may not be used to endorse or promote products derived from th
      +                          is
    34                           ;        software without specific prior written permission.
    35                           ; 
    36                           ; THIS SOFTWARE IS PROVIDED BY MICROCHIP "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES,
    37                           ; INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS F
      +                          OR
    38                           ; PURPOSE ARE DISCLAIMED.  IN NO EVENT SHALL MICROCHIP BE LIABLE FOR ANY DIRECT, INDIREC
      +                          T,
    39                           ; INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING BUT NOT LIMITED TO
    40                           ; PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA OR PROFITS; OR BUSINESS
    41                           ; INTERRUPTION) HOWSOEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, ST
      +                          RICT
    42                           ; LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE U
      +                          SE OF
    43                           ; THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
    44                           ; 
    45                           ; 
    46                           ; Code-generator required, PIC12F675 Definitions
    47                           ; 
    48                           ; SFR Addresses
    49     0004                     fsr             equ	4
    50     0004                     fsr0            equ	4
    51     0000                     indf            equ	0
    52     0000                     indf0           equ	0
    53     0002                     pc              equ	2
    54     0002                     pcl             equ	2
    55     000A                     pclath          equ	10
    56     0003                     status          equ	3
    57     0000                     INDF            equ	0	;# 
    58     0001                     TMR0            equ	1	;# 
    59     0002                     PCL             equ	2	;# 
    60     0003                     STATUS          equ	3	;# 
    61     0004                     FSR             equ	4	;# 
    62     0005                     GPIO            equ	5	;# 
    63     000A                     PCLATH          equ	10	;# 
    64     000B                     INTCON          equ	11	;# 
    65     000C                     PIR1            equ	12	;# 
    66     000E                     TMR1            equ	14	;# 
    67     000E                     TMR1L           equ	14	;# 
    68     000F                     TMR1H           equ	15	;# 
    69     0010                     T1CON           equ	16	;# 
    70     0019                     CMCON           equ	25	;# 
    71     001E                     ADRESH          equ	30	;# 
    72     001F                     ADCON0          equ	31	;# 
    73     0081                     OPTION_REG      equ	129	;# 
    74     0085                     TRISIO          equ	133	;# 
    75     008C                     PIE1            equ	140	;# 
    76     008E                     PCON            equ	142	;# 
    77     0090                     OSCCAL          equ	144	;# 
    78     0095                     WPU             equ	149	;# 
    79     0096                     IOC             equ	150	;# 
    80     0096                     IOCB            equ	150	;# 
    81     0099                     VRCON           equ	153	;# 
    82     009A                     EEDATA          equ	154	;# 
    83     009A                     EEDAT           equ	154	;# 
    84     009B                     EEADR           equ	155	;# 
    85     009C                     EECON1          equ	156	;# 
    86     009D                     EECON2          equ	157	;# 
    87     009E                     ADRESL          equ	158	;# 
    88     009F                     ANSEL           equ	159	;# 
    89     0000                     INDF            equ	0	;# 
    90     0001                     TMR0            equ	1	;# 
    91     0002                     PCL             equ	2	;# 
    92     0003                     STATUS          equ	3	;# 
    93     0004                     FSR             equ	4	;# 
    94     0005                     GPIO            equ	5	;# 
    95     000A                     PCLATH          equ	10	;# 
    96     000B                     INTCON          equ	11	;# 
    97     000C                     PIR1            equ	12	;# 
    98     000E                     TMR1            equ	14	;# 
    99     000E                     TMR1L           equ	14	;# 
   100     000F                     TMR1H           equ	15	;# 
   101     0010                     T1CON           equ	16	;# 
   102     0019                     CMCON           equ	25	;# 
   103     001E                     ADRESH          equ	30	;# 
   104     001F                     ADCON0          equ	31	;# 
   105     0081                     OPTION_REG      equ	129	;# 
   106     0085                     TRISIO          equ	133	;# 
   107     008C                     PIE1            equ	140	;# 
   108     008E                     PCON            equ	142	;# 
   109     0090                     OSCCAL          equ	144	;# 
   110     0095                     WPU             equ	149	;# 
   111     0096                     IOC             equ	150	;# 
   112     0096                     IOCB            equ	150	;# 
   113     0099                     VRCON           equ	153	;# 
   114     009A                     EEDATA          equ	154	;# 
   115     009A                     EEDAT           equ	154	;# 
   116     009B                     EEADR           equ	155	;# 
   117     009C                     EECON1          equ	156	;# 
   118     009D                     EECON2          equ	157	;# 
   119     009E                     ADRESL          equ	158	;# 
   120     009F                     ANSEL           equ	159	;# 
   121                           
   122                           	psect	strings
   123     0001                     __pstrings:
   124     0001                     stringtab:
   125     0001                     __stringtab:
   126     0001                     stringcode:	
   127                           ;	String table - string pointers are 1 byte each
   128                           
   129     0001                     stringdir:
   130     0001  3000               	movlw	high stringdir
   131     0002  008A               	movwf	10
   132     0003  0804               	movf	4,w
   133     0004  0A84               	incf	4,f
   134     0005  0782               	addwf	2,f
   135     0006                     __stringbase:
   136     0006  3400               	retlw	0
   137     0007                     __end_of__stringtab:
   138     0007                     _log_table:
   139     0007  3400               	retlw	0
   140     0008  3401               	retlw	1
   141     0009  3402               	retlw	2
   142     000A  3403               	retlw	3
   143     000B  3404               	retlw	4
   144     000C  3405               	retlw	5
   145     000D  3406               	retlw	6
   146     000E  3407               	retlw	7
   147     000F  3409               	retlw	9
   148     0010  340A               	retlw	10
   149     0011  340B               	retlw	11
   150     0012  340C               	retlw	12
   151     0013  340D               	retlw	13
   152     0014  340F               	retlw	15
   153     0015  3410               	retlw	16
   154     0016  3411               	retlw	17
   155     0017  3412               	retlw	18
   156     0018  3414               	retlw	20
   157     0019  3415               	retlw	21
   158     001A  3416               	retlw	22
   159     001B  3418               	retlw	24
   160     001C  3419               	retlw	25
   161     001D  341B               	retlw	27
   162     001E  341C               	retlw	28
   163     001F  341E               	retlw	30
   164     0020  341F               	retlw	31
   165     0021  3421               	retlw	33
   166     0022  3422               	retlw	34
   167     0023  3424               	retlw	36
   168     0024  3425               	retlw	37
   169     0025  3427               	retlw	39
   170     0026  3429               	retlw	41
   171     0027  342A               	retlw	42
   172     0028  342C               	retlw	44
   173     0029  342E               	retlw	46
   174     002A  3430               	retlw	48
   175     002B  3431               	retlw	49
   176     002C  3433               	retlw	51
   177     002D  3435               	retlw	53
   178     002E  3437               	retlw	55
   179     002F  3439               	retlw	57
   180     0030  343B               	retlw	59
   181     0031  343D               	retlw	61
   182     0032  343F               	retlw	63
   183     0033  3441               	retlw	65
   184     0034  3443               	retlw	67
   185     0035  3445               	retlw	69
   186     0036  3448               	retlw	72
   187     0037  344A               	retlw	74
   188     0038  344C               	retlw	76
   189     0039  344E               	retlw	78
   190     003A  3451               	retlw	81
   191     003B  3453               	retlw	83
   192     003C  3455               	retlw	85
   193     003D  3458               	retlw	88
   194     003E  345A               	retlw	90
   195     003F  345D               	retlw	93
   196     0040  3460               	retlw	96
   197     0041  3462               	retlw	98
   198     0042  3465               	retlw	101
   199     0043  3468               	retlw	104
   200     0044  346A               	retlw	106
   201     0045  346D               	retlw	109
   202     0046  3470               	retlw	112
   203     0047  3473               	retlw	115
   204     0048  3476               	retlw	118
   205     0049  3479               	retlw	121
   206     004A  347C               	retlw	124
   207     004B  347F               	retlw	127
   208     004C  3482               	retlw	130
   209     004D  3485               	retlw	133
   210     004E  3489               	retlw	137
   211     004F  348C               	retlw	140
   212     0050  348F               	retlw	143
   213     0051  3493               	retlw	147
   214     0052  3496               	retlw	150
   215     0053  349A               	retlw	154
   216     0054  349E               	retlw	158
   217     0055  34A1               	retlw	161
   218     0056  34A5               	retlw	165
   219     0057  34A9               	retlw	169
   220     0058  34AD               	retlw	173
   221     0059  34B1               	retlw	177
   222     005A  34B5               	retlw	181
   223     005B  34B9               	retlw	185
   224     005C  34BD               	retlw	189
   225     005D  34C1               	retlw	193
   226     005E  34C5               	retlw	197
   227     005F  34CA               	retlw	202
   228     0060  34CE               	retlw	206
   229     0061  34D3               	retlw	211
   230     0062  34D7               	retlw	215
   231     0063  34DC               	retlw	220
   232     0064  34E1               	retlw	225
   233     0065  34E6               	retlw	230
   234     0066  34EB               	retlw	235
   235     0067  34F0               	retlw	240
   236     0068  34F5               	retlw	245
   237     0069  34FA               	retlw	250
   238     006A  34FF               	retlw	255
   239     006B                     __end_of_log_table:
   240     0019                     _CMCON          set	25
   241     001F                     _ADCON0bits     set	31
   242     0005                     _GPIObits       set	5
   243     0001                     _TMR0           set	1
   244     0085                     _TRISIObits     set	133
   245     0099                     _VRCON          set	153
   246     009F                     _ANSELbits      set	159
   247     0081                     _OPTION_REGbits set	129
   248     042A                     _TRISIO2        set	1066
   249                           
   250                           	psect	cinit
   251     03FD                     start_initialization:	
   252                           ; #config settings
   253                           
   254     03FD                     __initialization:
   255     03FD                     end_of_initialization:	
   256                           ;End of C runtime variable initialization code
   257                           
   258     03FD                     __end_of__initialization:
   259     03FD  0183               	clrf	3
   260     03FE  2B52               	ljmp	_main	;jump to C main() function
   261                           
   262                           	psect	cstackCOMMON
   263     0000                     __pcstackCOMMON:
   264     0000                     ??_Timer0_Init:
   265     0000                     ??_Read_Timer0:	
   266                           ; 1 bytes @ 0x0
   267                           
   268                           
   269                           	psect	cstackBANK0
   270     0020                     __pcstackBANK0:	
   271                           ; 1 bytes @ 0x0
   272                           
   273     0020                     ?_Timer0_Init:
   274     0020                     ?_Read_Timer0:	
   275                           ; 1 bytes @ 0x0
   276                           
   277     0020                     ?_bitbang_pwm_cycle:	
   278                           ; 1 bytes @ 0x0
   279                           
   280     0020                     ?_main:	
   281                           ; 1 bytes @ 0x0
   282                           
   283     0020                     ??_bitbang_pwm_cycle:	
   284                           ; 1 bytes @ 0x0
   285                           
   286                           
   287                           ; 1 bytes @ 0x0
   288     0020                     	ds	2
   289     0022                     bitbang_pwm_cycle@bri:
   290                           
   291                           ; 1 bytes @ 0x2
   292     0022                     	ds	1
   293     0023                     bitbang_pwm_cycle@period:
   294                           
   295                           ; 2 bytes @ 0x3
   296     0023                     	ds	2
   297     0025                     bitbang_pwm_cycle@on:
   298                           
   299                           ; 2 bytes @ 0x5
   300     0025                     	ds	2
   301     0027                     ??_main:
   302                           
   303                           ; 1 bytes @ 0x7
   304     0027                     	ds	1
   305     0028                     main@last_timer_val:
   306                           
   307                           ; 1 bytes @ 0x8
   308     0028                     	ds	1
   309     0029                     main@muting_counter:
   310                           
   311                           ; 2 bytes @ 0x9
   312     0029                     	ds	2
   313     002B                     main@y:
   314                           
   315                           ; 2 bytes @ 0xB
   316     002B                     	ds	2
   317     002D                     main@timer_val:
   318                           
   319                           ; 1 bytes @ 0xD
   320     002D                     	ds	1
   321     002E                     main@ac_sense_timeout:
   322                           
   323                           ; 2 bytes @ 0xE
   324     002E                     	ds	2
   325     0030                     main@x:
   326                           
   327                           ; 1 bytes @ 0x10
   328     0030                     	ds	1
   329     0031                     main@x_221:
   330                           
   331                           ; 1 bytes @ 0x11
   332     0031                     	ds	1
   333     0032                     main@set_brightness:
   334                           
   335                           ; 1 bytes @ 0x12
   336     0032                     	ds	1
   337     0033                     main@led_brightness:
   338                           
   339                           ; 1 bytes @ 0x13
   340     0033                     	ds	1
   341                           
   342                           	psect	maintext
   343     0352                     __pmaintext:	
   344 ;;
   345 ;;Main: autosize = 0, tempsize = 1, incstack = 0, save=0
   346 ;;
   347 ;; *************** function _main *****************
   348 ;; Defined at:
   349 ;;		line 129 in file "main.c"
   350 ;; Parameters:    Size  Location     Type
   351 ;;		None
   352 ;; Auto vars:     Size  Location     Type
   353 ;;  x               1   17[BANK0 ] unsigned char 
   354 ;;  x               1   16[BANK0 ] unsigned char 
   355 ;;  y               2   11[BANK0 ] int 
   356 ;;  timer_val       1   13[BANK0 ] unsigned char 
   357 ;;  ac_sense_tim    2   14[BANK0 ] short 
   358 ;;  muting_count    2    9[BANK0 ] short 
   359 ;;  led_brightne    1   19[BANK0 ] unsigned char 
   360 ;;  set_brightne    1   18[BANK0 ] unsigned char 
   361 ;;  last_timer_v    1    8[BANK0 ] unsigned char 
   362 ;;  last_state      1    0        unsigned char 
   363 ;; Return value:  Size  Location     Type
   364 ;;                  1    wreg      void 
   365 ;; Registers used:
   366 ;;		wreg, fsr0l, fsr0h, status,2, status,0, btemp+1, pclath, cstack
   367 ;; Tracked objects:
   368 ;;		On entry : B00/0
   369 ;;		On exit  : 0/0
   370 ;;		Unchanged: 0/0
   371 ;; Data sizes:     COMMON   BANK0
   372 ;;      Params:         0       0
   373 ;;      Locals:         0      12
   374 ;;      Temps:          0       1
   375 ;;      Totals:         0      13
   376 ;;Total ram usage:       13 bytes
   377 ;; Hardware stack levels required when called: 2
   378 ;; This function calls:
   379 ;;		_Read_Timer0
   380 ;;		_Timer0_Init
   381 ;;		_bitbang_pwm_cycle
   382 ;; This function is called by:
   383 ;;		Startup code after reset
   384 ;; This function uses a non-reentrant model
   385 ;;
   386                           
   387     0352                     _main:	
   388                           ;psect for function _main
   389                           
   390     0352                     l748:	
   391                           ;incstack = 0
   392                           ; Regs used in _main: [wreg-fsr0h+status,2+status,0+btemp+1+pclath+cstack]
   393                           
   394                           
   395                           ;main.c: 131:     ADCON0bits.ADON = 0;
   396     0352  1283               	bcf	3,5	;RP0=0, select bank0
   397     0353  101F               	bcf	31,0	;volatile
   398     0354                     l750:
   399                           
   400                           ;main.c: 132:     ANSELbits.ANS = 0;
   401     0354  30F0               	movlw	-16
   402     0355  1683               	bsf	3,5	;RP0=1, select bank1
   403     0356  059F               	andwf	31,f	;volatile
   404     0357                     l752:
   405                           
   406                           ;main.c: 133:     VRCON = 0;
   407     0357  0199               	clrf	25	;volatile
   408     0358                     l754:
   409                           
   410                           ;main.c: 134:     CMCON = 0x7;
   411     0358  3007               	movlw	7
   412     0359  1283               	bcf	3,5	;RP0=0, select bank0
   413     035A  0099               	movwf	25	;volatile
   414     035B                     l756:
   415                           
   416                           ;main.c: 137:     GPIObits.GPIO0 = 0;
   417     035B  1005               	bcf	5,0	;volatile
   418     035C                     l758:
   419                           
   420                           ;main.c: 138:     TRISIObits.TRISIO0 = 0;
   421     035C  1683               	bsf	3,5	;RP0=1, select bank1
   422     035D  1005               	bcf	5,0	;volatile
   423     035E                     l760:
   424                           
   425                           ;main.c: 139:     TRISIObits.TRISIO1 = 1;
   426     035E  1485               	bsf	5,1	;volatile
   427     035F                     l762:
   428                           
   429                           ;main.c: 140:     TRISIObits.TRISIO2 = 1;
   430     035F  1505               	bsf	5,2	;volatile
   431     0360                     l764:
   432                           
   433                           ;main.c: 143:     Timer0_Init();
   434     0360  231F               	fcall	_Timer0_Init
   435     0361                     l766:
   436     0361  1283               	bcf	3,5	;RP0=0, select bank0
   437     0362  0805               	movf	5,w	;volatile
   438     0363                     l768:
   439                           
   440                           ;main.c: 149:     uint8_t set_brightness = 0;
   441     0363  01B2               	clrf	main@set_brightness
   442     0364                     l770:
   443                           
   444                           ;main.c: 153:     uint8_t led_brightness = 0;
   445     0364  01B3               	clrf	main@led_brightness
   446     0365                     l772:
   447                           
   448                           ;main.c: 156:     uint8_t last_timer_val = 0;
   449     0365  01A8               	clrf	main@last_timer_val
   450     0366                     l774:
   451                           
   452                           ;main.c: 162:     int16_t ac_sense_timeout = 0;
   453     0366  01AE               	clrf	main@ac_sense_timeout
   454     0367  01AF               	clrf	main@ac_sense_timeout+1
   455     0368                     l776:
   456                           
   457                           ;main.c: 170:     int16_t muting_counter = 500;
   458     0368  30F4               	movlw	244
   459     0369  00A9               	movwf	main@muting_counter
   460     036A  3001               	movlw	1
   461     036B  00AA               	movwf	main@muting_counter+1
   462     036C                     l778:
   463                           
   464                           ;main.c: 173:     {;main.c: 182:         uint8_t timer_val = Read_Timer0();
   465     036C  231C               	fcall	_Read_Timer0
   466     036D  1283               	bcf	3,5	;RP0=0, select bank0
   467     036E  00AD               	movwf	main@timer_val
   468     036F                     l780:
   469                           
   470                           ;main.c: 183:         if(timer_val != last_timer_val)
   471     036F  082D               	movf	main@timer_val,w
   472     0370  0628               	xorwf	main@last_timer_val,w
   473     0371  1903               	skipnz
   474     0372  2B74               	goto	u171
   475     0373  2B75               	goto	u170
   476     0374                     u171:
   477     0374  2B7D               	goto	l786
   478     0375                     u170:
   479     0375                     l782:
   480                           
   481                           ;main.c: 184:         {;main.c: 185:             last_timer_val = timer_val;
   482     0375  082D               	movf	main@timer_val,w
   483     0376  00A8               	movwf	main@last_timer_val
   484     0377                     l784:
   485                           
   486                           ;main.c: 188:             set_brightness = 99;
   487     0377  3063               	movlw	99
   488     0378  00B2               	movwf	main@set_brightness
   489                           
   490                           ;main.c: 192:             ac_sense_timeout = 10;
   491     0379  300A               	movlw	10
   492     037A  00AE               	movwf	main@ac_sense_timeout
   493     037B  3000               	movlw	0
   494     037C  00AF               	movwf	main@ac_sense_timeout+1
   495     037D                     l786:
   496                           
   497                           ;main.c: 196:         bitbang_pwm_cycle(led_brightness);
   498     037D  0833               	movf	main@led_brightness,w
   499     037E  2325               	fcall	_bitbang_pwm_cycle
   500     037F                     l788:
   501                           
   502                           ;main.c: 202:         if(led_brightness != set_brightness) {
   503     037F  1283               	bcf	3,5	;RP0=0, select bank0
   504     0380  0833               	movf	main@led_brightness,w
   505     0381  0632               	xorwf	main@set_brightness,w
   506     0382  1903               	skipnz
   507     0383  2B85               	goto	u181
   508     0384  2B86               	goto	u180
   509     0385                     u181:
   510     0385  2B97               	goto	l41
   511     0386                     u180:
   512     0386                     l790:
   513                           
   514                           ;main.c: 204:             if(led_brightness < set_brightness)
   515     0386  0832               	movf	main@set_brightness,w
   516     0387  0233               	subwf	main@led_brightness,w
   517     0388  1803               	skipnc
   518     0389  2B8B               	goto	u191
   519     038A  2B8C               	goto	u190
   520     038B                     u191:
   521     038B  2B8F               	goto	l794
   522     038C                     u190:
   523     038C                     l792:
   524                           
   525                           ;main.c: 205:                 led_brightness++;
   526     038C  3001               	movlw	1
   527     038D  07B3               	addwf	main@led_brightness,f
   528     038E  2B97               	goto	l41
   529     038F                     l794:
   530     038F  0833               	movf	main@led_brightness,w
   531     0390  0232               	subwf	main@set_brightness,w
   532     0391  1803               	skipnc
   533     0392  2B94               	goto	u201
   534     0393  2B95               	goto	u200
   535     0394                     u201:
   536     0394  2B97               	goto	l41
   537     0395                     u200:
   538     0395                     l796:
   539                           
   540                           ;main.c: 207:                 led_brightness--;
   541     0395  3001               	movlw	1
   542     0396  02B3               	subwf	main@led_brightness,f
   543     0397                     l41:	
   544                           ;main.c: 208:         }
   545                           
   546                           
   547                           ;main.c: 217:         if(ac_sense_timeout) {
   548     0397  082E               	movf	main@ac_sense_timeout,w
   549     0398  042F               	iorwf	main@ac_sense_timeout+1,w
   550     0399  1903               	btfsc	3,2
   551     039A  2B9C               	goto	u211
   552     039B  2B9D               	goto	u210
   553     039C                     u211:
   554     039C  2BAE               	goto	l806
   555     039D                     u210:
   556     039D                     l798:
   557                           
   558                           ;main.c: 218:             ac_sense_timeout--;
   559     039D  30FF               	movlw	255
   560     039E  07AE               	addwf	main@ac_sense_timeout,f
   561     039F  1803               	skipnc
   562     03A0  0AAF               	incf	main@ac_sense_timeout+1,f
   563     03A1  30FF               	movlw	255
   564     03A2  07AF               	addwf	main@ac_sense_timeout+1,f
   565     03A3                     l800:
   566                           
   567                           ;main.c: 219:             if(ac_sense_timeout == 0) {
   568     03A3  082E               	movf	main@ac_sense_timeout,w
   569     03A4  042F               	iorwf	main@ac_sense_timeout+1,w
   570     03A5  1D03               	btfss	3,2
   571     03A6  2BA8               	goto	u221
   572     03A7  2BA9               	goto	u220
   573     03A8                     u221:
   574     03A8  2BAE               	goto	l806
   575     03A9                     u220:
   576     03A9                     l802:
   577                           
   578                           ;main.c: 220:                 set_brightness = 0;
   579     03A9  01B2               	clrf	main@set_brightness
   580     03AA                     l804:
   581                           
   582                           ;main.c: 221:                 muting_counter = 500;
   583     03AA  30F4               	movlw	244
   584     03AB  00A9               	movwf	main@muting_counter
   585     03AC  3001               	movlw	1
   586     03AD  00AA               	movwf	main@muting_counter+1
   587     03AE                     l806:
   588                           
   589                           ;main.c: 227:         if(GPIObits.GPIO1 && set_brightness) {
   590     03AE  1C85               	btfss	5,1	;volatile
   591     03AF  2BB1               	goto	u231
   592     03B0  2BB2               	goto	u230
   593     03B1                     u231:
   594     03B1  2B6C               	goto	l778
   595     03B2                     u230:
   596     03B2                     l808:
   597     03B2  0832               	movf	main@set_brightness,w
   598     03B3  1903               	btfsc	3,2
   599     03B4  2BB6               	goto	u241
   600     03B5  2BB7               	goto	u240
   601     03B6                     u241:
   602     03B6  2B6C               	goto	l778
   603     03B7                     u240:
   604     03B7                     l810:
   605                           
   606                           ;main.c: 229:             if(muting_counter == 0) {
   607     03B7  0829               	movf	main@muting_counter,w
   608     03B8  042A               	iorwf	main@muting_counter+1,w
   609     03B9  1D03               	btfss	3,2
   610     03BA  2BBC               	goto	u251
   611     03BB  2BBD               	goto	u250
   612     03BC                     u251:
   613     03BC  2BF5               	goto	l848
   614     03BD                     u250:
   615     03BD                     l812:
   616                           
   617                           ;main.c: 231:                 for(int y = 0; y < 2; y++) {
   618     03BD  01AB               	clrf	main@y
   619     03BE  01AC               	clrf	main@y+1
   620     03BF                     l818:
   621                           
   622                           ;main.c: 234:                     for(uint8_t x = 0; x < 30; x++) {
   623     03BF  1283               	bcf	3,5	;RP0=0, select bank0
   624     03C0  01B0               	clrf	main@x
   625     03C1                     l824:
   626                           
   627                           ;main.c: 237:                         bitbang_pwm_cycle(10 + x);
   628     03C1  0830               	movf	main@x,w
   629     03C2  3E0A               	addlw	10
   630     03C3  2325               	fcall	_bitbang_pwm_cycle
   631     03C4                     l826:
   632                           
   633                           ;main.c: 238:                     }
   634     03C4  3001               	movlw	1
   635     03C5  1283               	bcf	3,5	;RP0=0, select bank0
   636     03C6  07B0               	addwf	main@x,f
   637     03C7                     l828:
   638     03C7  301E               	movlw	30
   639     03C8  0230               	subwf	main@x,w
   640     03C9  1C03               	skipc
   641     03CA  2BCC               	goto	u261
   642     03CB  2BCD               	goto	u260
   643     03CC                     u261:
   644     03CC  2BC1               	goto	l824
   645     03CD                     u260:
   646     03CD                     l830:
   647                           
   648                           ;main.c: 241:                     for(uint8_t x = 0; x < 20; x++) {
   649     03CD  01B1               	clrf	main@x_221
   650     03CE                     l836:
   651                           
   652                           ;main.c: 244:                         bitbang_pwm_cycle(30 + (x*2));
   653     03CE  0831               	movf	main@x_221,w
   654     03CF  00A7               	movwf	??_main
   655     03D0  0727               	addwf	??_main,w
   656     03D1  3E1E               	addlw	30
   657     03D2  2325               	fcall	_bitbang_pwm_cycle
   658     03D3                     l838:
   659                           
   660                           ;main.c: 245:                     }
   661     03D3  3001               	movlw	1
   662     03D4  1283               	bcf	3,5	;RP0=0, select bank0
   663     03D5  07B1               	addwf	main@x_221,f
   664     03D6                     l840:
   665     03D6  3014               	movlw	20
   666     03D7  0231               	subwf	main@x_221,w
   667     03D8  1C03               	skipc
   668     03D9  2BDB               	goto	u271
   669     03DA  2BDC               	goto	u270
   670     03DB                     u271:
   671     03DB  2BCE               	goto	l836
   672     03DC                     u270:
   673     03DC                     l842:
   674                           
   675                           ;main.c: 246:                 }
   676     03DC  3001               	movlw	1
   677     03DD  07AB               	addwf	main@y,f
   678     03DE  1803               	skipnc
   679     03DF  0AAC               	incf	main@y+1,f
   680     03E0  3000               	movlw	0
   681     03E1  07AC               	addwf	main@y+1,f
   682     03E2                     l844:
   683     03E2  082C               	movf	main@y+1,w
   684     03E3  3A80               	xorlw	128
   685     03E4  00DF               	movwf	btemp+1
   686     03E5  3080               	movlw	128
   687     03E6  025F               	subwf	btemp+1,w
   688     03E7  1D03               	skipz
   689     03E8  2BEB               	goto	u285
   690     03E9  3002               	movlw	2
   691     03EA  022B               	subwf	main@y,w
   692     03EB                     u285:
   693     03EB  1C03               	skipc
   694     03EC  2BEE               	goto	u281
   695     03ED  2BEF               	goto	u280
   696     03EE                     u281:
   697     03EE  2BBF               	goto	l818
   698     03EF                     u280:
   699     03EF                     l846:
   700                           
   701                           ;main.c: 248:                 muting_counter = 300;
   702     03EF  302C               	movlw	44
   703     03F0  1283               	bcf	3,5	;RP0=0, select bank0
   704     03F1  00A9               	movwf	main@muting_counter
   705     03F2  3001               	movlw	1
   706     03F3  00AA               	movwf	main@muting_counter+1
   707                           
   708                           ;main.c: 249:             } else {
   709     03F4  2B6C               	goto	l778
   710     03F5                     l848:
   711                           
   712                           ;main.c: 250:                 muting_counter--;
   713     03F5  30FF               	movlw	255
   714     03F6  07A9               	addwf	main@muting_counter,f
   715     03F7  1803               	skipnc
   716     03F8  0AAA               	incf	main@muting_counter+1,f
   717     03F9  30FF               	movlw	255
   718     03FA  07AA               	addwf	main@muting_counter+1,f
   719     03FB  2B6C               	goto	l778
   720     03FC  2800               	ljmp	start
   721     03FD                     __end_of_main:
   722                           
   723                           	psect	text1
   724     0325                     __ptext1:	
   725 ;; *************** function _bitbang_pwm_cycle *****************
   726 ;; Defined at:
   727 ;;		line 109 in file "main.c"
   728 ;; Parameters:    Size  Location     Type
   729 ;;  bri             1    wreg     unsigned char 
   730 ;; Auto vars:     Size  Location     Type
   731 ;;  bri             1    2[BANK0 ] unsigned char 
   732 ;;  on              2    5[BANK0 ] short 
   733 ;;  period          2    3[BANK0 ] short 
   734 ;; Return value:  Size  Location     Type
   735 ;;                  1    wreg      void 
   736 ;; Registers used:
   737 ;;		wreg, fsr0l, fsr0h, status,2, status,0, pclath
   738 ;; Tracked objects:
   739 ;;		On entry : 0/0
   740 ;;		On exit  : 0/0
   741 ;;		Unchanged: 0/0
   742 ;; Data sizes:     COMMON   BANK0
   743 ;;      Params:         0       0
   744 ;;      Locals:         0       5
   745 ;;      Temps:          0       2
   746 ;;      Totals:         0       7
   747 ;;Total ram usage:        7 bytes
   748 ;; Hardware stack levels used: 2
   749 ;; This function calls:
   750 ;;		Nothing
   751 ;; This function is called by:
   752 ;;		_main
   753 ;; This function uses a non-reentrant model
   754 ;;
   755                           
   756     0325                     _bitbang_pwm_cycle:	
   757                           ;psect for function _bitbang_pwm_cycle
   758                           
   759                           
   760                           ;incstack = 0
   761                           ; Regs used in _bitbang_pwm_cycle: [wreg-fsr0h+status,2+status,0+pclath]
   762                           ;bitbang_pwm_cycle@bri stored from wreg
   763     0325  1283               	bcf	3,5	;RP0=0, select bank0
   764     0326  00A2               	movwf	bitbang_pwm_cycle@bri
   765     0327                     l734:
   766                           
   767                           ;main.c: 109: __attribute__((inline)) void bitbang_pwm_cycle(uint8_t bri);main.c: 110: {
      +                          ;main.c: 111:     int16_t period = 99;
   768     0327  3063               	movlw	99
   769     0328  00A3               	movwf	bitbang_pwm_cycle@period
   770     0329  3000               	movlw	0
   771     032A  00A4               	movwf	bitbang_pwm_cycle@period+1
   772     032B                     l736:
   773                           
   774                           ;main.c: 113:     int16_t on = log_table[bri];
   775     032B  0822               	movf	bitbang_pwm_cycle@bri,w
   776     032C  3E01               	addlw	low ((_log_table-__stringbase)| (0+32768))
   777     032D  0084               	movwf	4
   778     032E  2001               	fcall	stringdir
   779     032F  00A0               	movwf	??_bitbang_pwm_cycle
   780     0330  01A1               	clrf	??_bitbang_pwm_cycle+1
   781     0331  0820               	movf	??_bitbang_pwm_cycle,w
   782     0332  00A5               	movwf	bitbang_pwm_cycle@on
   783     0333  0821               	movf	??_bitbang_pwm_cycle+1,w
   784     0334  00A6               	movwf	bitbang_pwm_cycle@on+1
   785                           
   786                           ;main.c: 114:     while(period) {
   787     0335  2B4B               	goto	l746
   788     0336                     l738:
   789                           
   790                           ;main.c: 115:         if(on) {
   791     0336  0825               	movf	bitbang_pwm_cycle@on,w
   792     0337  0426               	iorwf	bitbang_pwm_cycle@on+1,w
   793     0338  1903               	btfsc	3,2
   794     0339  2B3B               	goto	u151
   795     033A  2B3C               	goto	u150
   796     033B                     u151:
   797     033B  2B44               	goto	l31
   798     033C                     u150:
   799     033C                     l740:
   800                           
   801                           ;main.c: 116:             GPIObits.GPIO0 = 1;
   802     033C  1405               	bsf	5,0	;volatile
   803     033D                     l742:
   804                           
   805                           ;main.c: 117:             on--;
   806     033D  30FF               	movlw	255
   807     033E  07A5               	addwf	bitbang_pwm_cycle@on,f
   808     033F  1803               	skipnc
   809     0340  0AA6               	incf	bitbang_pwm_cycle@on+1,f
   810     0341  30FF               	movlw	255
   811     0342  07A6               	addwf	bitbang_pwm_cycle@on+1,f
   812                           
   813                           ;main.c: 118:         }
   814     0343  2B45               	goto	l744
   815     0344                     l31:	
   816                           ;main.c: 119:         else
   817                           
   818                           
   819                           ;main.c: 120:         {;main.c: 121:             GPIObits.GPIO0 = 0;
   820     0344  1005               	bcf	5,0	;volatile
   821     0345                     l744:
   822                           
   823                           ;main.c: 123:         period--;
   824     0345  30FF               	movlw	255
   825     0346  07A3               	addwf	bitbang_pwm_cycle@period,f
   826     0347  1803               	skipnc
   827     0348  0AA4               	incf	bitbang_pwm_cycle@period+1,f
   828     0349  30FF               	movlw	255
   829     034A  07A4               	addwf	bitbang_pwm_cycle@period+1,f
   830     034B                     l746:
   831                           
   832                           ;main.c: 114:     while(period) {
   833     034B  0823               	movf	bitbang_pwm_cycle@period,w
   834     034C  0424               	iorwf	bitbang_pwm_cycle@period+1,w
   835     034D  1D03               	btfss	3,2
   836     034E  2B50               	goto	u161
   837     034F  2B51               	goto	u160
   838     0350                     u161:
   839     0350  2B36               	goto	l738
   840     0351                     u160:
   841     0351                     l34:
   842     0351  0008               	return
   843     0352                     __end_of_bitbang_pwm_cycle:
   844                           
   845                           	psect	text2
   846     031F                     __ptext2:	
   847 ;; *************** function _Timer0_Init *****************
   848 ;; Defined at:
   849 ;;		line 59 in file "main.c"
   850 ;; Parameters:    Size  Location     Type
   851 ;;		None
   852 ;; Auto vars:     Size  Location     Type
   853 ;;		None
   854 ;; Return value:  Size  Location     Type
   855 ;;                  1    wreg      void 
   856 ;; Registers used:
   857 ;;		status,2
   858 ;; Tracked objects:
   859 ;;		On entry : 0/0
   860 ;;		On exit  : 0/0
   861 ;;		Unchanged: 0/0
   862 ;; Data sizes:     COMMON   BANK0
   863 ;;      Params:         0       0
   864 ;;      Locals:         0       0
   865 ;;      Temps:          0       0
   866 ;;      Totals:         0       0
   867 ;;Total ram usage:        0 bytes
   868 ;; Hardware stack levels used: 1
   869 ;; This function calls:
   870 ;;		Nothing
   871 ;; This function is called by:
   872 ;;		_main
   873 ;; This function uses a non-reentrant model
   874 ;;
   875                           
   876     031F                     _Timer0_Init:	
   877                           ;psect for function _Timer0_Init
   878                           
   879     031F                     l726:	
   880                           ;incstack = 0
   881                           ; Regs used in _Timer0_Init: [status,2]
   882                           
   883                           
   884                           ;main.c: 60:     OPTION_REGbits.T0CS = 1;
   885     031F  1683               	bsf	3,5	;RP0=1, select bank1
   886     0320  1681               	bsf	1,5	;volatile
   887                           
   888                           ;main.c: 61:     TRISIO2 = 1;
   889     0321  1505               	bsf	5,2	;volatile
   890     0322                     l728:
   891                           
   892                           ;main.c: 62:     TMR0 = 0;
   893     0322  1283               	bcf	3,5	;RP0=0, select bank0
   894     0323  0181               	clrf	1	;volatile
   895     0324                     l21:
   896     0324  0008               	return
   897     0325                     __end_of_Timer0_Init:
   898                           
   899                           	psect	text3
   900     031C                     __ptext3:	
   901 ;; *************** function _Read_Timer0 *****************
   902 ;; Defined at:
   903 ;;		line 66 in file "main.c"
   904 ;; Parameters:    Size  Location     Type
   905 ;;		None
   906 ;; Auto vars:     Size  Location     Type
   907 ;;		None
   908 ;; Return value:  Size  Location     Type
   909 ;;                  1    wreg      unsigned char 
   910 ;; Registers used:
   911 ;;		wreg
   912 ;; Tracked objects:
   913 ;;		On entry : 0/0
   914 ;;		On exit  : 0/0
   915 ;;		Unchanged: 0/0
   916 ;; Data sizes:     COMMON   BANK0
   917 ;;      Params:         0       0
   918 ;;      Locals:         0       0
   919 ;;      Temps:          0       0
   920 ;;      Totals:         0       0
   921 ;;Total ram usage:        0 bytes
   922 ;; Hardware stack levels used: 1
   923 ;; This function calls:
   924 ;;		Nothing
   925 ;; This function is called by:
   926 ;;		_main
   927 ;; This function uses a non-reentrant model
   928 ;;
   929                           
   930     031C                     _Read_Timer0:	
   931                           ;psect for function _Read_Timer0
   932                           
   933     031C                     l730:	
   934                           ;incstack = 0
   935                           ; Regs used in _Read_Timer0: [wreg]
   936                           
   937                           
   938                           ;main.c: 67:     return TMR0;
   939     031C  1283               	bcf	3,5	;RP0=0, select bank0
   940     031D  0801               	movf	1,w	;volatile
   941     031E                     l24:
   942     031E  0008               	return
   943     031F                     __end_of_Read_Timer0:
   944     0000                     ___latbits      equ	0
   945     005E                     btemp           set	94	;btemp
   946     005E                     wtemp0          set	94
   947                           
   948                           	psect	config
   949                           
   950                           ;Config register CONFIG @ 0x2007
   951                           ;	Oscillator Selection bits
   952                           ;	FOSC = INTRCIO, INTOSC oscillator: I/O function on GP4/OSC2/CLKOUT pin, I/O function o
      +                          n GP5/OSC1/CLKIN
   953                           ;	Watchdog Timer Enable bit
   954                           ;	WDTE = OFF, WDT disabled
   955                           ;	Power-Up Timer Enable bit
   956                           ;	PWRTE = OFF, PWRT disabled
   957                           ;	GP3/MCLR pin function select
   958                           ;	MCLRE = OFF, GP3/MCLR pin function is digital I/O, MCLR internally tied to VDD
   959                           ;	Brown-out Detect Enable bit
   960                           ;	BOREN = OFF, BOD disabled
   961                           ;	Code Protection bit
   962                           ;	CP = OFF, Program Memory code protection is disabled
   963                           ;	Data Code Protection bit
   964                           ;	CPD = OFF, Data memory code protection is disabled
   965     2007                     	org	8199
   966     2007  3194               	dw	12692

Data Sizes:
    Strings     0
    Constant    100
    Data        0
    BSS         0
    Persistent  0
    Stack       0

Auto Spaces:
    Space          Size  Autos    Used
    COMMON            0      0       0
    BANK0            62     20      20

Pointer List with Targets:

    None.

Critical Paths under _main in COMMON

    None.

Critical Paths under _main in BANK0

    _main->_bitbang_pwm_cycle

Call Graph Tables:

 ---------------------------------------------------------------------------------
 (Depth) Function   	        Calls       Base Space   Used Autos Params    Refs
 ---------------------------------------------------------------------------------
 (0) _main                                                14    14      0     584
                                              7 BANK0     13    13      0
                        _Read_Timer0
                        _Timer0_Init
                  _bitbang_pwm_cycle
 ---------------------------------------------------------------------------------
 (2) _bitbang_pwm_cycle                                    7     7      0      77
                                              0 BANK0      7     7      0
 ---------------------------------------------------------------------------------
 (1) _Timer0_Init                                          0     0      0       0
 ---------------------------------------------------------------------------------
 (1) _Read_Timer0                                          0     0      0       0
 ---------------------------------------------------------------------------------
 Estimated maximum stack depth 2
 ---------------------------------------------------------------------------------

 Call Graph Graphs:

 _main (ROOT)
   _Read_Timer0
   _Timer0_Init
   _bitbang_pwm_cycle

Address spaces:
Name               Size   Autos  Total    Usage
BITCOMMON            0      0       0      0.0%
BITBANK0            62      0       0      0.0%
COMMON               0      0       0      0.0%
BANK0               62     20      20     32.3%
STACK                0      0       0      0.0%
DATA                 0      0      20      0.0%


Microchip Technology PIC Macro Assembler V3.00 build 20241204225717 
Symbol Table                                                                                   Sun Mar  2 17:20:34 2025

                        pc 0002                         l21 0324                         l31 0344  
                       l24 031E                         l41 0397                         l34 0351  
                       fsr 0004                        l800 03A3                        l730 031C  
                      l810 03B7                        l802 03A9                        l740 033C  
                      l812 03BD                        l804 03AA                        l726 031F  
                      l742 033D                        l734 0327                        l830 03CD  
                      l806 03AE                        l750 0354                        l728 0322  
                      l744 0345                        l736 032B                        l840 03D6  
                      l824 03C1                        l808 03B2                        l760 035E  
                      l752 0357                        l738 0336                        l746 034B  
                      l842 03DC                        l826 03C4                        l818 03BF  
                      l770 0364                        l762 035F                        l754 0358  
                      l844 03E2                        l836 03CE                        l828 03C7  
                      l780 036F                        l772 0365                        l764 0360  
                      l756 035B                        l748 0352                        l846 03EF  
                      l838 03D3                        l790 0386                        l782 0375  
                      l774 0366                        l766 0361                        l758 035C  
                      l848 03F5                        l792 038C                        l784 0377  
                      l776 0368                        l768 0363                        l794 038F  
                      l786 037D                        l778 036C                        l796 0395  
                      l788 037F                        l798 039D                        u200 0395  
                      u201 0394                        u210 039D                        u211 039C  
                      u220 03A9                        u221 03A8                        u150 033C  
                      u230 03B2                        u151 033B                        u231 03B1  
                      u160 0351                        u240 03B7                        u161 0350  
                      u241 03B6                        u250 03BD                        u170 0375  
                      u251 03BC                        u171 0374                        u260 03CD  
                      u180 0386                        u261 03CC                        u181 0385  
                      u270 03DC                        u190 038C                        u271 03DB  
                      u191 038B                        u280 03EF                        u281 03EE  
                      u285 03EB                        fsr0 0004                       _TMR0 0001  
                     _main 0352                       btemp 005E                       start 0000  
            ??_Read_Timer0 0000                      ?_main 0020                      _CMCON 0019  
                    _VRCON 0099                      main@x 0030                      main@y 002B  
                    pclath 000A                      status 0003                      wtemp0 005E  
          __initialization 03FD               __end_of_main 03FD                     ??_main 0027  
      __end_of_Read_Timer0 031F        bitbang_pwm_cycle@on 0025              ??_Timer0_Init 0000  
            main@timer_val 002D    __end_of__initialization 03FD             __pcstackCOMMON 0000  
      __end_of_Timer0_Init 0325                _Read_Timer0 031C             _OPTION_REGbits 0081  
               __pmaintext 0352       bitbang_pwm_cycle@bri 0022          _bitbang_pwm_cycle 0325  
       ?_bitbang_pwm_cycle 0020         main@muting_counter 0029                    _TRISIO2 042A  
               __stringtab 0001        ??_bitbang_pwm_cycle 0020                _Timer0_Init 031F  
       main@led_brightness 0033                  _ANSELbits 009F                    __ptext1 0325  
                  __ptext2 031F                    __ptext3 031C  __end_of_bitbang_pwm_cycle 0352  
        __end_of_log_table 006B       end_of_initialization 03FD               ?_Read_Timer0 0020  
      start_initialization 03FD                  ___latbits 0000              __pcstackBANK0 0020  
             ?_Timer0_Init 0020                  __pstrings 0001                  _log_table 0007  
                 _GPIObits 0005                 _ADCON0bits 001F                __stringbase 0006  
                main@x_221 0031    bitbang_pwm_cycle@period 0023         __end_of__stringtab 0007  
     main@ac_sense_timeout 002E         main@set_brightness 0032                  stringcode 0001  
                 stringdir 0001                   stringtab 0001         main@last_timer_val 0028  
               _TRISIObits 0085  
